#include "Server_Socket.h"
#include "Server_IO.h"
#include "Server_DataCtrl.h"
#include "DataStruct.h"

#pragma comment(lib, "ws2_32.lib")

int main()
{
	// DataStruct 데이터 구조를 가진 객체를 main에서 생성해 공유 메모리로 만드는 것은 적합한 방법인가?
	// 함수의 매개변수로 넣어주지 않아도 되어서 좋긴 한데 맞는 방법인지는 모르겠네

	Server_Socket sock;
	if (!sock.InitSocket())
		return 1;

	//Server_DataCtrl controller;

	Server_IO IO(sock.GetSocket());

	IO.InitIO();

	while (true)
	{
		IO.recvThread(IO.ClientConnect());
	}

	return 0;
}